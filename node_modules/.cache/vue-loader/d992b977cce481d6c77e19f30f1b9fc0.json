{"remainingRequest":"/Users/dashuaige/artminda/myweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dashuaige/artminda/myweb/src/views/Blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dashuaige/artminda/myweb/src/views/Blog.vue","mtime":1593338198551},{"path":"/Users/dashuaige/artminda/myweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/dashuaige/artminda/myweb/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/Users/dashuaige/artminda/myweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dashuaige/artminda/myweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PostPreview from \"../components/PostPreview\";\nimport StoryblokClient from \"storyblok-js-client\";\nconst token = \"mUT1Vr0FJ9aOLrdlHaMSbQtt\";\nlet storyapi = new StoryblokClient({\n  accessToken: token\n});\n\nexport default {\n  metaInfo: {\n    title: \"Blog\",\n    titleTemplate: \"%s ← artminda's web\",\n    meta: [\n      { name: \"viewport\", content: \"width=device-width, initial-scale=1\" },\n      {\n        name: \"description\",\n        content: \"artminda chen's Blog\"\n      },\n      { charset: \"utf-8\" },\n      { property: \"og:title\", content: \"artminda' web\" },\n      { property: \"og:site_name\", content: \"artminda' web\" },\n      { property: \"og:type\", content: \"website\" },\n      { property: \"og:url\", content: \"https://artminda.github.io/artminda/\" },\n      {\n        property: \"og:image\",\n        content: \"https://i.imgur.com/Dcz2PGx.jpg\"\n      },\n      {\n        property: \"og:description\",\n        content: \"artminda chen's Blog\"\n      }\n    ]\n  },\n  data() {\n    return {\n      posts: []\n    };\n  },\n\n  created() {\n    window.storyblok.init({\n      accessToken: token\n    });\n    window.storyblok.on(\"change\", () => {\n      console.log(\"change-clik\")\n      this.getStory(\"article\", \"draft\");\n    });\n    window.storyblok.pingEditor(() => {\n      if (window.storyblok.isInEditor()) {\n        this.getStory(\"article\", \"draft\");\n      } else {\n        this.getStory(\"article\", \"published\");\n      }\n    });\n  },\n\n  methods: {\n    getStory(version) {\n      storyapi\n        .get(\"cdn/stories\", {\n          version: \"draft\",\n          starts_with: \"article/\"\n        })\n        .then(res => {\n          this.posts = res.data.stories.map(bp => {\n            return {\n              id: bp.slug,\n              title: bp.content.title,\n              previewText: bp.content.summary,\n              thumbnailUrl: bp.content.teaser_image\n            };\n          });\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  },\n\n  components: {\n    PostPreview\n  }\n};\n",{"version":3,"sources":["Blog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Blog.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container grid-list-xl>\n    <v-layout justify-center align-center class=\"mt-4 pt-2\">\n      <v-layout row wrap class=\"mt-4 pt-2\">\n        <PostPreview\n          v-for=\"post in posts\"\n          :key=\"post.id\"\n          :title=\"post.title\"\n          :excerpt=\"post.previewText\"\n          :thumbnailImage=\"post.thumbnailUrl\"\n          :id=\"post.id\"\n        />\n      </v-layout>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport PostPreview from \"../components/PostPreview\";\nimport StoryblokClient from \"storyblok-js-client\";\nconst token = \"mUT1Vr0FJ9aOLrdlHaMSbQtt\";\nlet storyapi = new StoryblokClient({\n  accessToken: token\n});\n\nexport default {\n  metaInfo: {\n    title: \"Blog\",\n    titleTemplate: \"%s ← artminda's web\",\n    meta: [\n      { name: \"viewport\", content: \"width=device-width, initial-scale=1\" },\n      {\n        name: \"description\",\n        content: \"artminda chen's Blog\"\n      },\n      { charset: \"utf-8\" },\n      { property: \"og:title\", content: \"artminda' web\" },\n      { property: \"og:site_name\", content: \"artminda' web\" },\n      { property: \"og:type\", content: \"website\" },\n      { property: \"og:url\", content: \"https://artminda.github.io/artminda/\" },\n      {\n        property: \"og:image\",\n        content: \"https://i.imgur.com/Dcz2PGx.jpg\"\n      },\n      {\n        property: \"og:description\",\n        content: \"artminda chen's Blog\"\n      }\n    ]\n  },\n  data() {\n    return {\n      posts: []\n    };\n  },\n\n  created() {\n    window.storyblok.init({\n      accessToken: token\n    });\n    window.storyblok.on(\"change\", () => {\n      console.log(\"change-clik\")\n      this.getStory(\"article\", \"draft\");\n    });\n    window.storyblok.pingEditor(() => {\n      if (window.storyblok.isInEditor()) {\n        this.getStory(\"article\", \"draft\");\n      } else {\n        this.getStory(\"article\", \"published\");\n      }\n    });\n  },\n\n  methods: {\n    getStory(version) {\n      storyapi\n        .get(\"cdn/stories\", {\n          version: \"draft\",\n          starts_with: \"article/\"\n        })\n        .then(res => {\n          this.posts = res.data.stories.map(bp => {\n            return {\n              id: bp.slug,\n              title: bp.content.title,\n              previewText: bp.content.summary,\n              thumbnailUrl: bp.content.teaser_image\n            };\n          });\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  },\n\n  components: {\n    PostPreview\n  }\n};\n</script>\n\n<style scoped>\n</style>"]}]}